(this["webpackJsonpweather-forecast"]=this["webpackJsonpweather-forecast"]||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),a=n(18),s=n.n(a),l=n(7),o=n(1),i=function(){return Object(o.jsx)("div",{className:"p-4 flex flex-row-reverse",children:Object(o.jsx)("p",{className:"text-xs",children:"janlopezdelaosa@gmail.com"})})},d=n(13),j=n.n(d),u=function(){return Object(o.jsxs)("div",{className:"p-4 md:px-20 flex justify-between items-center",children:[Object(o.jsx)("h2",{className:"font-extrabold uppercase lg:text-2xl",children:"Weather Forecaster"}),Object(o.jsx)("p",{className:"text-xs lg:text-lg",children:j()().format("MMMM D, YYYY | HH:mm")})]})},x=n(10),b=n.n(x),f=n(14),h=n(34),m="https://morning-falls-52071.herokuapp.com";var p=function(){var e="".concat(m,"/locations");return Object(h.a)("locations",Object(f.a)(b.a.mark((function t(){var n,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:if((n=t.sent).ok){t.next=10;break}return t.next=6,n.json();case 6:throw c=t.sent,new Error(c.msg);case 10:return t.abrupt("return",n.json());case 11:case"end":return t.stop()}}),t)})))).data},O=function(e){var t=e.fill,n=void 0===t?"currentColor":t,c=e.className,r=void 0===c?"":c,a=e.onClick,s=void 0===a?function(){}:a;return Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:n,className:r,onClick:s,children:Object(o.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})},v=function(e){var t=e.fill,n=void 0===t?"currentColor":t,c=e.className,r=void 0===c?"":c,a=e.onClick,s=void 0===a?function(){}:a;return Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:n,className:r,onClick:s,children:Object(o.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})},g=function(e){var t=e.setCity,n=Object(c.useState)(""),r=Object(l.a)(n,2),a=r[0],s=r[1],i=Object(c.useState)(!1),d=Object(l.a)(i,2),j=d[0],u=d[1],x=p();return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"relative w-full",children:[Object(o.jsx)("input",{className:"cityinput w-full pl-10 lg:pl-14 pr-1 py-1 border-black border-solid rounded-lg border-2 outline-none ".concat(j?"font-bold":""," lg:text-xl"),type:"text",placeholder:"City, Country",list:"cities",onChange:function(e){s(e.target.value);var n=null===x||void 0===x?void 0:x.filter((function(t){return"".concat(t.name,", ").concat(t.country)===e.target.value}))[0];void 0!==n&&(t(n.slug),u(!0))},value:a}),Object(o.jsxs)("div",{className:"absolute inset-0 flex items-align justify-between pointer-events-none",children:[Object(o.jsx)(O,{className:"ml-3 lg:ml-5 w-5"}),a&&Object(o.jsx)(v,{className:"mr-7 lg:mr-10 w-5 pointer-events-auto",onClick:function(){s(""),t(""),u(!1)}})]})]}),Object(o.jsx)("datalist",{id:"cities",children:x&&x.map((function(e){return Object(o.jsx)("option",{children:"".concat(e.name,", ").concat(e.country)},e.slug)}))})]})},w=n(16),y=function(e){var t=e.isSelected,n=e.date,c=e.max,r=e.min,a=e.onClick;return Object(o.jsxs)("button",{className:"p-4 md:p-6 m-2 md:m-4 flex flex-col items-center border-black border-solid rounded-lg border-2 outline-none transform hover:scale-105".concat(t?" font-bold":""),onClick:a,children:[Object(o.jsx)("p",{className:"text-xl lg:text-2xl",children:j()(n,"MM-DD-YYYY").format("DD MMM")}),Object(o.jsx)("div",{className:"flex flex-row justify-between lg:text-lg",children:Object(o.jsxs)("p",{children:[r,"\xba / ",c,"\xba"]})})]})};var N=function(e,t,n){var c="".concat(m,"/forecaster"),r="location=".concat(e),a="start=".concat(t),s="end=".concat(n);return Object(h.a)("locations",Object(f.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(c,"?").concat(r,"&").concat(a,"&").concat(s));case 2:if((t=e.sent).ok){e.next=10;break}return e.next=6,t.json();case 6:throw n=e.sent,new Error(n.msg);case 10:return e.abrupt("return",t.json());case 11:case"end":return e.stop()}}),e)})))).data},k=function(e){var t=e.hourly,n=Object(c.useState)(-1),r=Object(l.a)(n,2),a=r[0],s=r[1];return Object(o.jsx)("div",{className:"pt-8 grid grid-cols-2 md:grid-cols-6 grid-rows-12 md:grid-rows-4 grid-flow-col gap-y-2 md:gap-y-10 gap-x-12",children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(o.jsxs)("div",{className:"flex flex-row items-center",onClick:function(){return s(t)},children:[Object(o.jsxs)("span",{className:"".concat(a===t?"font-normal":"font-light"," md:text-lg"),children:[t,"h:"]})," ",Object(o.jsxs)("span",{className:"".concat(a===t?"font-bold":"font-normal"," ml-1 md:ml-3 text-lg md:text-xl"),children:[e,"\xba"]})]},t)}))})},M=function(e){var t=e.city,n=e.days,r=void 0===n?5:n,a=new Date,s=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0),i=s.toISOString().split("T")[0],d=new Date(s);d.setDate(d.getDate()+r);var j=d.toISOString().split("T")[0],u=N(t,i,j),x=Object(c.useState)([]),b=Object(l.a)(x,2),f=b[0],h=b[1],m=Object(c.useState)(-1),p=Object(l.a)(m,2),O=p[0],v=p[1];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"p-2 md:p-4 flex flex-wrap flex-row justify-center",children:void 0!==u&&u.length>0?null===u||void 0===u?void 0:u.map((function(e,t){var n=Math.min.apply(Math,Object(w.a)(e.hourly)),c=Math.max.apply(Math,Object(w.a)(e.hourly));return Object(o.jsx)(y,{isSelected:t===O,date:e.date,max:c,min:n,onClick:function(){h(e.hourly),v(t)}},t)})):Object(o.jsxs)("p",{children:["There is no forecast data for the following 5 days ",u]})}),0!==f.length&&Object(o.jsx)(k,{hourly:f})]})},C=n(33),S=n(19),D=n(20),Y=n(21),z=n(23),E=n(22),F=function(e){Object(z.a)(n,e);var t=Object(E.a)(n);function n(e){var c;return Object(D.a)(this,n),(c=t.call(this,e)).state={hasError:!1},c}return Object(Y.a)(n,[{key:"render",value:function(){return this.state.hasError?Object(o.jsx)("h1",{children:"Something went wrong."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(r.a.Component),L=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],a=new C.a({defaultOptions:{queries:{suspense:!0}}});return Object(o.jsxs)(S.a,{client:a,children:[Object(o.jsxs)("div",{className:"fixed top-0 left-0 right-0 bg-white z-10",children:[Object(o.jsx)(u,{}),Object(o.jsx)("div",{className:"py-4 px-4 md:px-20 w-full flex justify-center",children:Object(o.jsx)(F,{children:Object(o.jsx)(c.Suspense,{fallback:Object(o.jsx)("div",{children:"loading"}),children:Object(o.jsx)(g,{setCity:r})})})})]}),Object(o.jsx)("div",{className:"pt-32 pb-16 flex flex-col w-full items-center",children:Object(o.jsx)(F,{children:Object(o.jsx)(c.Suspense,{fallback:Object(o.jsx)("div",{children:"loading"}),children:""!==n&&Object(o.jsx)(M,{city:n})})})}),Object(o.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white z-10",children:Object(o.jsx)(i,{})})]})};n(30);s.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(L,{})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.5e7b556e.chunk.js.map