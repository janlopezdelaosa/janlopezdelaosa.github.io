(this["webpackJsonpweather-forecast"]=this["webpackJsonpweather-forecast"]||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(10),s=n.n(a),l=n(2),o=n(0),i=function(){return Object(o.jsx)("div",{className:"p-4 flex flex-row-reverse",children:Object(o.jsx)("p",{className:"text-xs",children:"janlopezdelaosa@gmail.com"})})},u=n(7),d=n.n(u),j=function(){return Object(o.jsxs)("div",{className:"p-4 md:px-20 flex justify-between items-center",children:[Object(o.jsx)("h2",{className:"font-extrabold uppercase lg:text-2xl",children:"Weather Forecaster y talsss"}),Object(o.jsx)("p",{className:"text-xs lg:text-lg",children:d()().format("MMMM D, YYYY | hh:mm")})]})},f=n(3),x=n.n(f),b=n(4),p="https://morning-falls-52071.herokuapp.com",m=function(){var e=Object(b.a)(x.a.mark((function e(){var t,n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(p,"/locations"),e.prev=1,e.next=4,fetch(t);case 4:return n=e.sent,e.next=7,n.json();case 7:if(c=e.sent,n.ok){e.next=12;break}console.log(c.msg),e.next=13;break;case 12:return e.abrupt("return",c);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();var h=function(){var e=Object(c.useState)(),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){(function(){var e=Object(b.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m().then((function(e){return e&&r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),n},v=function(e){var t=e.fill,n=void 0===t?"currentColor":t,c=e.className,r=void 0===c?"":c,a=e.onClick,s=void 0===a?function(){}:a;return Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:n,className:r,onClick:s,children:Object(o.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})},O=function(e){var t=e.fill,n=void 0===t?"currentColor":t,c=e.className,r=void 0===c?"":c,a=e.onClick,s=void 0===a?function(){}:a;return Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:n,className:r,onClick:s,children:Object(o.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})},g=function(e){var t=e.setCity,n=Object(c.useState)(""),r=Object(l.a)(n,2),a=r[0],s=r[1],i=Object(c.useState)(!1),u=Object(l.a)(i,2),d=u[0],j=u[1],f=h();return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"relative w-full",children:[Object(o.jsx)("input",{className:"w-full pl-10 lg:pl-14 pr-1 py-1 border-black border-solid rounded-lg border-2 outline-none ".concat(d?"font-bold":""," lg:text-xl"),type:"text",placeholder:"City, Country",list:"cities",onChange:function(e){s(e.target.value);var n=null===f||void 0===f?void 0:f.filter((function(t){return"".concat(t.name,", ").concat(t.country)===e.target.value}))[0];void 0!==n&&(t(n.slug),j(!0))},value:a}),Object(o.jsxs)("div",{className:"absolute inset-0 flex items-align justify-between pointer-events-none",children:[Object(o.jsx)(v,{className:"ml-3 lg:ml-5 w-5"}),a&&Object(o.jsx)(O,{className:"mr-7 lg:mr-10 w-5 pointer-events-auto",onClick:function(){s(""),t(""),j(!1)}})]})]}),Object(o.jsx)("datalist",{id:"cities",children:f&&f.map((function(e){return Object(o.jsx)("option",{children:"".concat(e.name,", ").concat(e.country)},e.slug)}))})]})},w=n(9),y=function(e){var t=e.isSelected,n=e.date,c=e.max,r=e.min,a=e.onClick;return Object(o.jsxs)("button",{className:"p-4 md:p-6 m-2 md:m-4 flex flex-col items-center border-black border-solid rounded-lg border-2 outline-none transform hover:scale-105".concat(t?" font-bold":""),onClick:a,children:[Object(o.jsx)("p",{className:"text-xl lg:text-2xl",children:d()(n,"MM-DD-YYYY").format("DD MMM")}),Object(o.jsx)("div",{className:"flex flex-row justify-between lg:text-lg",children:Object(o.jsxs)("p",{children:[r,"\xba / ",c,"\xba"]})})]})},k=function(){var e=Object(b.a)(x.a.mark((function e(t,n,c){var r,a,s,l,o,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(p,"/forecast"),a="location=".concat(t),s="start=".concat(n),l="end=".concat(c),e.prev=4,e.next=7,fetch("".concat(r,"?").concat(a,"&").concat(s,"&").concat(l));case 7:return o=e.sent,e.next=10,o.json();case 10:if(i=e.sent,o.ok){e.next=15;break}console.log(i.msg),e.next=16;break;case 15:return e.abrupt("return",i);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(4),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(t,n,c){return e.apply(this,arguments)}}();var N=function(e,t,n){var r=Object(c.useState)(),a=Object(l.a)(r,2),s=a[0],o=a[1];return Object(c.useEffect)((function(){(function(){var c=Object(b.a)(x.a.mark((function c(){return x.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:k(e,t,n).then((function(e){return e&&o(e)}));case 1:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}})()()}),[e,t,n]),s},M=function(e){var t=e.hourly,n=Object(c.useState)(-1),r=Object(l.a)(n,2),a=r[0],s=r[1];return Object(o.jsx)("div",{className:"pt-8 grid grid-cols-2 md:grid-cols-6 grid-rows-12 md:grid-rows-4 grid-flow-col gap-y-2 md:gap-y-10 gap-x-12",children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(o.jsxs)("div",{className:"flex flex-row items-center",onClick:function(){return s(t)},children:[Object(o.jsxs)("span",{className:"".concat(a===t?"font-normal":"font-light"," md:text-lg"),children:[t,"h:"]})," ",Object(o.jsxs)("span",{className:"".concat(a===t?"font-bold":"font-normal"," ml-1 md:ml-3 text-lg md:text-xl"),children:[e,"\xba"]})]},t)}))})},C=function(e){var t=e.city,n=e.days,r=void 0===n?5:n,a=new Date,s=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0),i=s.toISOString().split("T")[0],u=new Date(s);u.setDate(u.getDate()+r);var d=u.toISOString().split("T")[0],j=N(t,i,d),f=Object(c.useState)([]),x=Object(l.a)(f,2),b=x[0],p=x[1],m=Object(c.useState)(-1),h=Object(l.a)(m,2),v=h[0],O=h[1];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"p-2 md:p-4 flex flex-wrap flex-row justify-center",children:void 0!==j&&j.length>0?null===j||void 0===j?void 0:j.map((function(e,t){var n=Math.min.apply(Math,Object(w.a)(e.hourly)),c=Math.max.apply(Math,Object(w.a)(e.hourly));return Object(o.jsx)(y,{isSelected:t===v,date:e.date,max:c,min:n,onClick:function(){p(e.hourly),O(t)}},t)})):Object(o.jsxs)("p",{children:["There is no forecast data for the following 5 days ",j]})}),0!==b.length&&Object(o.jsx)(M,{hourly:b})]})},S=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"fixed top-0 left-0 right-0 bg-white z-10",children:[Object(o.jsx)(j,{}),Object(o.jsx)("div",{className:"py-4 px-4 md:px-20 w-full flex justify-center",children:Object(o.jsx)(g,{setCity:r})})]}),Object(o.jsx)("div",{className:"pt-32 pb-16 flex flex-col w-full items-center",children:""!==n&&Object(o.jsx)(C,{city:n})}),Object(o.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white z-10",children:Object(o.jsx)(i,{})})]})};n(17);s.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(S,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.bd779e11.chunk.js.map